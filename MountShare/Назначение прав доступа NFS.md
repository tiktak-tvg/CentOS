Вы можете назначить права доступа NFS к любой общей папке, тем самым предоставляя пользователям Linux возможность получать к ней доступ.

Назначение прав доступа NFS к общей папке.

В списке общих папок выберите папку, которую необходимо изменить.

Нажмите Редактировать > Права доступа NFS.

Нажмите Создать, чтобы добавить правило для NFS.

Отобразится всплывающее окно. Настройте указанные ниже параметры.

Имя хоста или IP-адрес: Введите IP-адрес клиента NFS, который получит доступ к общей папке. Имя хоста можно указать тремя разными способами:

Отдельный хост: Полное доменное имя или IP-адрес.

Групповые символы:` *, *.synology.com`

`IP-сети: 203.74.205.32/255.255.252.0, /24`

- Права доступа: выберите права на чтение/запись для клиента NFS.
- Безопасность: укажите версию системы безопасности, которая будет применяться.
- AUTH_SYS: для проверки прав доступа используется идентификатор пользователя (UID) и идентификатор группы (GID) клиента NFS.
- Аутентификация Kerberos: при подключении клиента NFS к общей папке выполняется аутентификация Kerberos. Клиент может получить доступ к общей папке только после успешной аутентификации Kerberos.
- Целостность Kerberos: во время передачи данных выполняется аутентификация Kerberos и обеспечивается целостность пакетов для предотвращения несанкционированного доступа.
- Конфиденциальность Kerberos: при передаче данных выполняется аутентификация Kerberos и шифрование пакетов NFS с целью предотвращения несанкционированного доступа к трафику NFS или перехвата пакетов NFS.
- Squash: в этом поле можно управлять правами доступа пользователей клиента NFS. Выберите один из вариантов:

Без сопоставления: позволяет всем пользователям клиента NFS, в том числе привилегированным пользователям, сохранить исходные права доступа.

- Сопоставить привилегированного пользователя с admin: назначение прав доступа привилегированным пользователям клиента NFS, эквивалентных правам доступа администратора в вашей системе.
- Сопоставить привилегированного пользователя с guest: назначение прав доступа привилегированным пользователям клиента NFS, эквивалентных правам доступа гостя в вашей системе.
- Сопоставить всех пользователей с admin: назначение прав доступа всем пользователям клиента NFS, эквивалентных правам доступа администратора в вашей системе.
- Сопоставить всех пользователей с guest: присвоение прав доступа всем пользователям клиента NFS, эквивалентных правам доступа гостя в вашей системе.
- Асинхронно: при выборе этого параметра Synology NAS будет отвечать на запросы клиентов NFS до окончательного внесения в файлы каких-либо изменений, что приведет к повышению производительности.
- Разрешить подключения с непривилегированных портов (выше 1024): при выборе этого параметра клиенты NFS смогут использовать непривилегированные порты (т. е. порты с номерами выше 1024) при подключении к Synology NAS.
- Разрешить пользователям доступ к подключенным подпапкам: при выборе этого параметра клиенты NFS будут иметь доступ к подключенным подпапкам.

Нажмите ОК для завершения.

Нажмите ОК, чтобы применить разрешения NFS.

>Примечание.

Если имя сервера представлено в формате *.домен, IP-адрес клиента NFS должен иметь соответствующую запись PTR DNS, чтобы Synology NAS смог найти имя «*.домен» по соответствующему IP-адресу.

Версии системы безопасности

При доступе к общей папке посредством NFS с учетной записью определенного пользователя:

- Если используется версия системы безопасности AUTH_SYS: на клиенте NFS и Synology NAS должен быть точно такой же цифровой идентификатор пользователя (UID) или группы (GID). В противном случае при доступе к общей папке вам будут присвоены права других. Чтобы избежать конфликтов прав, можно выбрать Сопоставить всех пользователей с admin из Squash или предоставить «всем» права доступа к общей папке.
- Если используется версия системы безопасности Kerberos (krb5, krb5i, krb5p): Необходимо открыть Файловые службы > Служба NFS > Включить службу NFS > Дополнительные настройки > Настройки Kerberos, чтобы сопоставить клиент NFS с определенным пользователем или присоединиться к домену Windows/LDAP с помощью соответствующей учетной записи пользователя. В противном случае при доступе к общей папке клиенту будут назначены разрешения guest.
- Если на внешнем устройстве, на котором созданы общие папки, используется файловая система NTFS или FAT, параметр Сопоставить всех пользователей с admin будет применен принудительно.
- Чтобы использовать систему безопасности Kerberos для подключения к устройству Synology NAS, необходимо настроить аутентификацию Kerberos. Для этого откройте Файловые службы > Служба NFS > Включить службу NFS > Дополнительные настройки > Настройки Kerberos.
